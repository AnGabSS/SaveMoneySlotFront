<section class="transactions-list-container">
  <article class="transactions-list-header">
    <p-input-group class="search-input-group">
      <input
        pInputText
        placeholder="Search"
        [(ngModel)]="search"
        (ngModelChange)="onSearchChange()"
      />
      <p-inputgroup-addon>
        <i class="pi pi-search"></i>
      </p-inputgroup-addon>
    </p-input-group>
    <article class="buttons-header">
      <p-button label="Add Category" (onClick)="showDialog('transactionCategory')" />
      <p-button label="Add Transaction" (onClick)="showDialog('transaction')" />
    </article>
  </article>
  <app-transaction-table [transactions]="transactionsData" />
  <app-pageable [page]="currentPage" [size]="pageSize" [totalRecords]="totalElements" />
  <p-dialog
    header="Create a transaction"
    (onHide)="hideDialog('transaction')"
    [modal]="true"
    [(visible)]="visibleTransactionDialog"
    [style]="{ width: '25rem' }"
  >
    <app-form-transaction
      #createTransactionForm
      (afterSubmit)="onFormSuccess('transaction')"
    ></app-form-transaction>
  </p-dialog>

  <p-dialog
    header="Create a transaction category"
    (onHide)="hideDialog('transactionCategory')"
    [modal]="true"
    [(visible)]="visibleTransactionCategoryDialog"
    [style]="{ width: '25rem' }"
  >
    <app-form-transaction-category
      #createTransactionCategoryForm
      [afterSubmit]="onFormSuccess.bind(this, 'transactionCategory')"
    ></app-form-transaction-category>
  </p-dialog>
</section>
